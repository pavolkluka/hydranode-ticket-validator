<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hydranode Ticket Validator</title>
    <link rel="icon" href="data:image/x-icon;base64,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">
    <meta name="title" content="Scan and verify ticket for your event with Hydranode Ticket Validator!">
    <meta name="description" content="Hydranode Ticket Validator is a tool that allows you to verify whether a ticket is valid by simply scanning a QR code.">
    <!-- Main CSS Style -->
    <link rel="stylesheet" href="css/styles.css">
    <!-- <style type="text/css">
    </style> -->
    <!-- JavaScript Libraries -->
    <!-- SheetJS from CDN: use version 0.20.3 -->
    <script lang="javascript" src="https://cdn.sheetjs.com/xlsx-0.20.3/package/dist/xlsx.full.min.js" integrity="sha384-EnyY0/GSHQGSxSgMwaIPzSESbqoOLSexfnSMN2AP+39Ckmn92stwABZynq1JyzdT" crossorigin="anonymous" defer></script>
    <!-- jsQR from JSDelvr: user version 1.4.0 -->
    <script lang="javascript" src="https://cdn.jsdelivr.net/npm/jsqr@1.4.0/dist/jsQR.min.js" integrity="sha384-7+6NtuEPG8SPa+HRop4AdiOIt8o2Pn7Mx7kG6WU6DP+bGLL38Nx5/WYqIgAUQKpP" crossorigin="anonymous" defer></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>Hydranode Ticket Validator</h1>
            <!-- <p>A simple web-based application using HTML, JavaScript libraries for Hydranode Ticket validation.</p>
            <strong>Warning: Application in Development</strong>
            <p>
                This application is currently in the development phase. Features, security, and stability are still being refined.
                Use this application at your own riskâ€”there may be bugs, incomplete functionality, or potential security risks.
            <p> -->
        </header>

        <main class="main-container">
            <section class="file-upload">
                <div class="upload-zone" id="dropZone">
                    <input type="file" id="fileInput" accept=".xls,.xlsx,.csv" class="file-input">
                    <label for="fileInput" class="custom-file-upload">
                        Choose File
                    </label>
                    <span class="supported-formats">(Supported .xls file: use exported report for store.)</span>
                </div>
                <div id="fileInfo" class="file-info"></div>
            </section>

            <section class="scanner-section">
                <div class="scanner-container">
                    <div class="video-container">
                        <video id="qrVideo" playsinline></video>
                        <canvas id="qrCanvas" class="qr-overlay"></canvas>
                    </div>
                    <div class="scanner-controls">
                        <button id="startScan" class="control-button">Start Scanner</button>
                        <button id="stopScan" class="control-button" disabled>Stop Scanner</button>
                    </div>
                    <div class="manual-entry">
                        <input type="text" id="manualTicketId" placeholder="Enter Ticket ID manually">
                        <button id="submitManual" class="control-button">Submit</button>
                    </div>
                </div>
                <div id="scanData" class="scan-data"></div>
                <div id="scanResult" class="scan-result"></div>
            </section>

            <section class="data-statistics">
                <h2 class="mb-4">Ticket Statistics</h2>
                <div class="statistics-grid">
                    <div class="stat-card total">
                        <div class="stat-label">Total Tickets</div>
                        <div class="stat-value" id="totalTickets">0</div>
                    </div>
                    <div class="stat-card valid">
                        <div class="stat-label">Valid Tickets</div>
                        <div class="stat-value" id="validTickets">0</div>
                    </div>
                    <div class="stat-card duplicate">
                        <div class="stat-label">Duplicate Tickets</div>
                        <div class="stat-value" id="duplicateTickets">0</div>
                    </div>
                    <div class="stat-card invalid">
                        <div class="stat-label">Invalid Tickets</div>
                        <div class="stat-value" id="invalidTickets">0</div>
                    </div>
                    <div class="stat-card remaining">
                        <div class="stat-label">Remaining Tickets</div>
                        <div class="stat-value" id="remainingTickets">0</div>
                    </div>
                </div>
            </section>

            <section class="data-display">
                <div class="metadata-panel">
                    <div id="clientInfo"></div>
                    <div id="storeInfo"></div>
                </div>

                <div class="table-controls">
                    <div class="rows-per-page">
                        <label for="rowsPerPage">Rows per page:</label>
                        <select id="rowsPerPage">
                            <option value="5">5</option>
                            <option value="10">10</option>
                            <option value="20">20</option>
                            <option value="50">50</option>
                        </select>
                    </div>
                    <div class="pagination" id="pagination"></div>
                </div>

                <div class="table-container">
                    <table id="dataTable">
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>Time</th>
                                <th>Invoice ID</th>
                                <th>LNURL Comment</th>
                            </tr>
                        </thead>
                        <tbody id="tableBody"></tbody>
                    </table>
                </div>
            </section>

            <section class="scan-history">
                <h2>Scan History</h2>
                <div class="history-controls">
                    <button id="exportHistory" class="control-button">Export History</button>
                    <button id="clearHistory" class="control-button">Clear History</button>
                </div>
                <div id="scanHistory" class="history-list"></div>
            </section>
        </main>
    </div>

    <script src="js/main.js"></script>
    <!-- <script lang="text/javascript">
    </script> -->
    <script src="js/scanner.js"></script>
    <!-- <script type="text/javascript">
    </script> -->
</body>
</html>